<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Who Delivers First? | LaborBets</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root {
      --color-primary: #6366f1;
      --color-secondary: #ec4899;
      --color-accent: #10b981;
      --color-warning: #f59e0b;
      --color-dark: #0f172a;
      --color-darker: #020617;
      --color-card: #1e293b;
      --color-card-hover: #334155;
      --color-border: #334155;
      --color-text: #f8fafc;
      --color-text-muted: #94a3b8;
      --color-syd: #f472b6;
      --color-gigi: #a78bfa;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: var(--color-darker);
      color: var(--color-text);
      line-height: 1.6;
    }

    .bg-grid {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image:
        linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      z-index: -1;
    }

    nav {
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--color-border);
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .nav-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .back-link {
      color: var(--color-text-muted);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: color 0.2s;
    }

    .back-link:hover { color: var(--color-text); }

    .logo {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.25rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-decoration: none;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .market-header {
      margin-bottom: 2rem;
    }

    .market-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(16, 185, 129, 0.1);
      border: 1px solid rgba(16, 185, 129, 0.3);
      padding: 0.4rem 0.8rem;
      border-radius: 50px;
      font-size: 0.75rem;
      color: var(--color-accent);
      margin-bottom: 1rem;
    }

    .market-badge .dot {
      width: 6px; height: 6px;
      background: var(--color-accent);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .market-title {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .market-meta {
      display: flex;
      gap: 2rem;
      color: var(--color-text-muted);
      font-size: 0.9rem;
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 2rem;
    }

    .chart-section {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 16px;
      padding: 1.5rem;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .chart-title {
      font-weight: 600;
    }

    .chart-timeframes {
      display: flex;
      gap: 0.5rem;
    }

    .timeframe-btn {
      background: var(--color-dark);
      border: 1px solid var(--color-border);
      color: var(--color-text-muted);
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .timeframe-btn:hover, .timeframe-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: white;
    }

    .chart-container {
      height: 350px;
      position: relative;
    }

    .current-odds {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .odds-card {
      background: var(--color-dark);
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
      border: 2px solid transparent;
      transition: all 0.2s;
      cursor: pointer;
    }

    .odds-card:hover {
      transform: translateY(-2px);
    }

    .odds-card.syd { border-color: var(--color-syd); }
    .odds-card.gigi { border-color: var(--color-gigi); }

    .odds-card-name {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    .odds-card.syd .odds-card-name { color: var(--color-syd); }
    .odds-card.gigi .odds-card-name { color: var(--color-gigi); }

    .odds-card-value {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.5rem;
      font-weight: 700;
    }

    .odds-card-change {
      font-size: 0.85rem;
      margin-top: 0.25rem;
    }

    .odds-card-change.up { color: var(--color-accent); }
    .odds-card-change.down { color: #ef4444; }

    .sidebar {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .trade-card {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 16px;
      padding: 1.5rem;
    }

    .trade-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.25rem;
    }

    .trade-mode-tabs {
      display: flex;
      gap: 1rem;
    }

    .trade-mode-tab {
      background: none;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-text-muted);
      cursor: pointer;
      padding: 0.25rem 0;
      border-bottom: 2px solid transparent;
    }

    .trade-mode-tab.active {
      color: var(--color-text);
      border-bottom-color: var(--color-text);
    }

    .trade-type-select {
      background: var(--color-dark);
      border: 1px solid var(--color-border);
      border-radius: 6px;
      padding: 0.4rem 0.75rem;
      color: var(--color-text-muted);
      font-size: 0.85rem;
      cursor: pointer;
    }

    .outcome-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }

    .outcome-btn {
      padding: 1rem 1.5rem;
      border-radius: 8px;
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.1rem;
      font-weight: 600;
      border: 2px solid transparent;
      cursor: pointer;
      transition: all 0.2s;
    }

    .outcome-btn.syd {
      background: rgba(244, 114, 182, 0.15);
      color: var(--color-syd);
    }

    .outcome-btn.syd.active {
      background: var(--color-syd);
      color: white;
      border-color: var(--color-syd);
      box-shadow: 0 0 0 3px rgba(244, 114, 182, 0.3);
    }

    .outcome-btn.gigi {
      background: rgba(167, 139, 250, 0.15);
      color: var(--color-gigi);
    }

    .outcome-btn.gigi.active {
      background: var(--color-gigi);
      color: white;
      border-color: var(--color-gigi);
      box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.3);
    }

    .name-section {
      margin-bottom: 1.25rem;
    }

    .name-input {
      width: 100%;
      background: var(--color-dark);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      color: var(--color-text);
      font-size: 0.95rem;
    }

    .name-input:focus {
      outline: none;
      border-color: var(--color-primary);
    }

    .name-input::placeholder {
      color: var(--color-text-muted);
    }

    .amount-section {
      margin-bottom: 1.5rem;
    }

    .amount-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.75rem;
    }

    .amount-label {
      font-size: 1rem;
      color: var(--color-text);
    }

    .amount-value {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2rem;
      font-weight: 600;
      color: var(--color-text-muted);
    }

    .amount-buttons {
      display: flex;
      gap: 0.5rem;
    }

    .amount-btn {
      flex: 1;
      padding: 0.6rem 0.75rem;
      background: var(--color-dark);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      color: var(--color-text);
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .amount-btn:hover {
      background: var(--color-card-hover);
      border-color: var(--color-primary);
    }

    .trade-btn {
      width: 100%;
      padding: 1rem;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.2s;
      background: #3b82f6;
      color: white;
      margin-bottom: 1rem;
    }

    .trade-btn:hover {
      background: #2563eb;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .trade-disclaimer {
      text-align: center;
      font-size: 0.8rem;
      color: var(--color-text-muted);
    }

    .trade-disclaimer a {
      color: var(--color-text-muted);
      text-decoration: underline;
    }

    .activity-card {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 16px;
      padding: 1.5rem;
    }

    .activity-title {
      font-weight: 600;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .activity-count {
      font-size: 0.8rem;
      color: var(--color-text-muted);
      background: var(--color-dark);
      padding: 0.25rem 0.75rem;
      border-radius: 50px;
    }

    .activity-list {
      max-height: 300px;
      overflow-y: auto;
    }

    .activity-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--color-border);
    }

    .activity-item:last-child {
      border-bottom: none;
    }

    .activity-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-dark);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
    }

    .activity-details {
      flex: 1;
    }

    .activity-name {
      font-weight: 500;
      font-size: 0.9rem;
    }

    .activity-action {
      font-size: 0.8rem;
      color: var(--color-text-muted);
    }

    .activity-action .syd { color: var(--color-syd); }
    .activity-action .gigi { color: var(--color-gigi); }

    .activity-time {
      font-size: 0.75rem;
      color: var(--color-text-muted);
    }

    .activity-empty {
      text-align: center;
      color: var(--color-text-muted);
      font-size: 0.85rem;
      padding: 2rem 1rem;
    }

    /* Resolution Section */
    .resolution-section {
      margin-top: 2rem;
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 16px;
      padding: 1.5rem;
    }

    .resolution-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--color-border);
    }

    .resolution-icon {
      width: 40px;
      height: 40px;
      background: rgba(99, 102, 241, 0.1);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
    }

    .resolution-title {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .resolution-content h4 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.5rem;
      margin-top: 1rem;
    }

    .resolution-content h4:first-child {
      margin-top: 0;
    }

    .resolution-content p {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      line-height: 1.7;
    }

    .resolution-content ul {
      list-style: none;
      margin-top: 0.5rem;
    }

    .resolution-content li {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      padding: 0.4rem 0;
      padding-left: 1.5rem;
      position: relative;
    }

    .resolution-content li::before {
      content: '‚Ä¢';
      position: absolute;
      left: 0.5rem;
      color: var(--color-primary);
    }

    .resolution-source {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--color-border);
      font-size: 0.8rem;
      color: var(--color-text-muted);
    }

    .resolution-source span {
      color: var(--color-primary);
    }

    @media (max-width: 968px) {
      .main-grid {
        grid-template-columns: 1fr;
      }

      .market-title {
        font-size: 1.75rem;
      }

      .container {
        padding: 1rem;
      }

      .resolution-section {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="bg-grid"></div>

  <nav>
    <div class="nav-content">
      <a href="../" class="back-link">‚Üê Back to Markets</a>
      <a href="../" class="logo">LaborBets</a>
    </div>
  </nav>

  <div class="container">
    <div class="market-header">
      <div class="market-badge">
        <span class="dot"></span>
        ACTIVE MARKET
      </div>
      <h1 class="market-title">Who Delivers First?</h1>
      <div class="market-meta">
        <span>47 predictions</span>
        <span>Resolves late Feb 2026</span>
        <span>$0 volume (it's fake)</span>
      </div>
    </div>

    <div class="main-grid">
      <div class="chart-section">
        <div class="chart-header">
          <span class="chart-title">Probability Over Time</span>
          <div class="chart-timeframes">
            <button class="timeframe-btn">1D</button>
            <button class="timeframe-btn active">1W</button>
            <button class="timeframe-btn">1M</button>
            <button class="timeframe-btn">ALL</button>
          </div>
        </div>
        <div class="chart-container">
          <canvas id="oddsChart"></canvas>
        </div>
        <div class="current-odds">
          <div class="odds-card syd">
            <div class="odds-card-name">Syd</div>
            <div class="odds-card-value">25%</div>
            <div class="odds-card-change down">-17% today</div>
          </div>
          <div class="odds-card gigi">
            <div class="odds-card-name">Gigi</div>
            <div class="odds-card-value">75%</div>
            <div class="odds-card-change up">+17% today</div>
          </div>
        </div>
      </div>

      <div class="sidebar">
        <div class="trade-card">
          <div class="trade-header">
            <div class="trade-mode-tabs">
              <button class="trade-mode-tab active">Buy</button>
              <button class="trade-mode-tab">Sell</button>
            </div>
            <select class="trade-type-select">
              <option>Market</option>
              <option>Limit</option>
            </select>
          </div>

          <div class="outcome-buttons">
            <button class="outcome-btn syd active" id="outcome-syd-btn">Syd <span id="syd-price">25¬¢</span></button>
            <button class="outcome-btn gigi" id="outcome-gigi-btn">Gigi <span id="gigi-price">75¬¢</span></button>
          </div>

          <div class="name-section">
            <input type="text" class="name-input" id="trader-name" placeholder="Enter your name to trade">
          </div>

          <div class="amount-section">
            <div class="amount-header">
              <span class="amount-label">Amount</span>
              <span class="amount-value" id="amount-display">$0</span>
            </div>
            <div class="amount-buttons">
              <button class="amount-btn" onclick="addAmount(1)">+$1</button>
              <button class="amount-btn" onclick="addAmount(20)">+$20</button>
              <button class="amount-btn" onclick="addAmount(100)">+$100</button>
              <button class="amount-btn" onclick="setMaxAmount()">Max</button>
            </div>
          </div>

          <button class="trade-btn" id="trade-btn" onclick="submitTrade()">Trade</button>
          <p class="trade-disclaimer">By trading, you agree to the <a href="#">Terms of Use</a>.</p>
        </div>

        <div class="activity-card">
          <div class="activity-title">
            Recent Activity
            <span class="activity-count" id="activity-count">0 trades</span>
          </div>
          <div class="activity-list" id="activity-list">
            <!-- Populated by JS -->
          </div>
        </div>
      </div>
    </div>

    <!-- Resolution Section -->
    <div class="resolution-section">
      <div class="resolution-header">
        <div class="resolution-icon">üìã</div>
        <div class="resolution-title">Resolution Rules</div>
      </div>
      <div class="resolution-content">
        <h4>Resolution Criteria</h4>
        <p>This market resolves based on the official time of birth recorded by the hospital for each baby.</p>
        <ul>
          <li>The baby with the earlier recorded birth time wins</li>
          <li>Time is measured to the minute as recorded on the birth certificate</li>
          <li>In the extremely unlikely event of identical times, market resolves 50/50</li>
        </ul>
        <h4>Background</h4>
        <p>Two friends, Syd and Gigi, are both pregnant and due within days of each other. Gigi's due date is February 26, while Syd's is March 6. Their doctor (Melissa) is going on a cruise on March 1st, so both need to deliver before then. Gigi is now scheduled for induction on February 22, while Syd will be induced on February 26.</p>
        <h4>Resolution Date</h4>
        <p>This market will resolve within 24 hours of both babies being born.</p>
      </div>
      <div class="resolution-source">
        Resolution Source: <span>Official hospital birth records & family confirmation</span>
      </div>
    </div>
  </div>

  <script>
    // Chart
    const ctx = document.getElementById('oddsChart').getContext('2d');

    const labels = ['Jan 12', 'Jan 13', 'Jan 14', 'Jan 15', 'Jan 16', 'Jan 17', 'Jan 18'];
    const sydData = [50, 48, 45, 44, 42, 35, 25];
    const gigiData = [50, 52, 55, 56, 58, 65, 75];

    new Chart(ctx, {
      type: 'line',
      data: {
        labels: labels,
        datasets: [
          {
            label: 'Syd',
            data: sydData,
            borderColor: '#f472b6',
            backgroundColor: 'rgba(244, 114, 182, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 4,
            pointHoverRadius: 6,
          },
          {
            label: 'Gigi',
            data: gigiData,
            borderColor: '#a78bfa',
            backgroundColor: 'rgba(167, 139, 250, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 4,
            pointHoverRadius: 6,
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: {
          intersect: false,
          mode: 'index'
        },
        plugins: {
          legend: {
            display: true,
            position: 'top',
            labels: {
              color: '#94a3b8',
              usePointStyle: true,
              padding: 20
            }
          },
          tooltip: {
            backgroundColor: '#1e293b',
            titleColor: '#f8fafc',
            bodyColor: '#f8fafc',
            borderColor: '#334155',
            borderWidth: 1,
            padding: 12,
            callbacks: {
              label: function(context) {
                return context.dataset.label + ': ' + context.raw + '%';
              }
            }
          }
        },
        scales: {
          x: {
            grid: {
              color: 'rgba(51, 65, 85, 0.5)',
            },
            ticks: {
              color: '#94a3b8'
            }
          },
          y: {
            min: 30,
            max: 70,
            grid: {
              color: 'rgba(51, 65, 85, 0.5)',
            },
            ticks: {
              color: '#94a3b8',
              callback: function(value) {
                return value + '%';
              }
            }
          }
        }
      }
    });

    // Trade Logic
    const marketId = 'who-delivers-first';
    const sydOdds = 25;
    const gigiOdds = 75;
    let selectedOutcome = 'syd';
    let tradeAmount = 0;

    // Outcome button selection
    document.getElementById('outcome-syd-btn').addEventListener('click', function() {
      selectedOutcome = 'syd';
      this.classList.add('active');
      document.getElementById('outcome-gigi-btn').classList.remove('active');
    });

    document.getElementById('outcome-gigi-btn').addEventListener('click', function() {
      selectedOutcome = 'gigi';
      this.classList.add('active');
      document.getElementById('outcome-syd-btn').classList.remove('active');
    });

    // Amount functions
    function addAmount(value) {
      tradeAmount += value;
      updateAmountDisplay();
    }

    function setMaxAmount() {
      tradeAmount = 1000;
      updateAmountDisplay();
    }

    function updateAmountDisplay() {
      const display = document.getElementById('amount-display');
      display.textContent = '$' + tradeAmount;
      display.style.color = tradeAmount > 0 ? '#f8fafc' : '#94a3b8';
    }

    // Activity with localStorage
    const activityList = document.getElementById('activity-list');
    const STORAGE_KEY = 'laborbets_trades';

    function loadTrades() {
      const allTrades = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      const marketTrades = allTrades.filter(t => t.marketId === marketId);

      if (marketTrades.length === 0) {
        activityList.innerHTML = '<div class="activity-empty">No activity yet ‚Äî be the first to trade!</div>';
        document.getElementById('activity-count').textContent = '0 trades';
      } else {
        activityList.innerHTML = '';
        marketTrades.reverse().forEach(trade => displayTrade(trade));
        document.getElementById('activity-count').textContent = marketTrades.length + ' trades';
      }
    }

    function displayTrade(trade) {
      const outcomeClass = trade.outcome === 'Syd' ? 'syd' : 'gigi';
      const avatars = ['üéØ', 'üîÆ', 'üë∂', 'üçº', 'üé∞', 'üèÜ', 'üí∞', 'üìà'];
      const avatar = avatars[Math.abs(trade.name.charCodeAt(0)) % avatars.length];
      const timeAgo = getTimeAgo(trade.timestamp);

      const activityItem = document.createElement('div');
      activityItem.className = 'activity-item';
      activityItem.innerHTML = `
        <div class="activity-avatar">${avatar}</div>
        <div class="activity-details">
          <div class="activity-name">${escapeHtml(trade.name)}</div>
          <div class="activity-action">Bought <span class="${outcomeClass}">${trade.shares} ${trade.outcome}</span> at ${trade.price}¬¢</div>
        </div>
        <div class="activity-time">${timeAgo}</div>
      `;
      activityList.appendChild(activityItem);
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function getTimeAgo(timestamp) {
      const diff = Date.now() - timestamp;
      const minutes = Math.floor(diff / 60000);
      const hours = Math.floor(diff / 3600000);
      const days = Math.floor(diff / 86400000);
      if (minutes < 1) return 'just now';
      if (minutes < 60) return minutes + 'm ago';
      if (hours < 24) return hours + 'h ago';
      return days + 'd ago';
    }

    function saveTrade(name, outcome, amount, price, shares) {
      const allTrades = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      const trade = {
        marketId: marketId,
        marketTitle: 'Who Delivers First?',
        name: name,
        outcome: outcome,
        amount: amount,
        price: price,
        shares: shares,
        timestamp: Date.now()
      };
      allTrades.push(trade);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(allTrades));
      return trade;
    }

    function submitTrade() {
      const nameInput = document.getElementById('trader-name');
      const traderName = nameInput.value.trim();

      if (!traderName) {
        alert('Please enter your name to place a trade!');
        nameInput.focus();
        return;
      }

      if (tradeAmount === 0) {
        alert('Please select an amount to trade!');
        return;
      }

      const outcome = selectedOutcome === 'syd' ? 'Syd' : 'Gigi';
      const price = selectedOutcome === 'syd' ? sydOdds : gigiOdds;
      const shares = Math.floor(tradeAmount / (price / 100));

      // Save and display trade
      const trade = saveTrade(traderName, outcome, tradeAmount, price, shares);

      // Remove empty message if present
      const emptyMsg = activityList.querySelector('.activity-empty');
      if (emptyMsg) emptyMsg.remove();

      // Add to top of list
      const outcomeClass = outcome === 'Syd' ? 'syd' : 'gigi';
      const avatars = ['üéØ', 'üîÆ', 'üë∂', 'üçº', 'üé∞', 'üèÜ', 'üí∞', 'üìà'];
      const avatar = avatars[Math.abs(traderName.charCodeAt(0)) % avatars.length];

      const activityItem = document.createElement('div');
      activityItem.className = 'activity-item';
      activityItem.innerHTML = `
        <div class="activity-avatar">${avatar}</div>
        <div class="activity-details">
          <div class="activity-name">${escapeHtml(traderName)}</div>
          <div class="activity-action">Bought <span class="${outcomeClass}">${shares} ${outcome}</span> at ${price}¬¢</div>
        </div>
        <div class="activity-time">just now</div>
      `;
      activityList.insertBefore(activityItem, activityList.firstChild);

      // Update count
      const count = activityList.querySelectorAll('.activity-item').length;
      document.getElementById('activity-count').textContent = count + ' trades';

      alert(`üéâ Trade submitted!\n\n${traderName} bought ${shares} shares of "${outcome}" at ${price}¬¢\nTotal: $${tradeAmount}\n\n(This is a parody - no real money involved!)`);
      tradeAmount = 0;
      updateAmountDisplay();
    }

    // Load trades on page load
    loadTrades();
  </script>
</body>
</html>
